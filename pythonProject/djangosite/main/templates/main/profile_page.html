{% extends 'main/layout.html' %}
{% load static %}

{% block title %}Профиль{% endblock %}

{% block links %}
    <link rel="stylesheet" href="{% static 'main/css/profile.css' %}">
{% endblock %}

{% block content %}
<div class="mycourse">
    <h1>Мои курсы</h1>
</div>

<!-- Фотография пользователя -->
<div class="profile-photo">
    {% if profile.photo %}
        <img src="{{ profile.photo.url }}" alt="Фото профиля" class="bi-person" style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover;">
    {% else %}
        <p>Нет фотографии</p>
    {% endif %}
</div>

<h2>{{ profile.name }}</h2>
<p>{{ profile.age }} лет, {{ profile.city }}</p>

<!-- Кнопки для отображения курсов -->
<div class="btn-group-vertical" role="group" aria-label="Вертикальная группа кнопок">
    <input type="radio" class="btn-check" name="vbtn-radio" id="vbtn-radio1" autocomplete="off" checked>
    <label class="btn btn-outline-success" for="vbtn-radio1">Прохожу</label>
    <input type="radio" class="btn-check" name="vbtn-radio" id="vbtn-radio2" autocomplete="off">
    <label class="btn btn-outline-success" for="vbtn-radio2">Любимые</label>
    <input type="radio" class="btn-check" name="vbtn-radio" id="vbtn-radio3" autocomplete="off">
    <label class="btn btn-outline-success" for="vbtn-radio3">Законченные</label>
</div>

<!-- Отображение курсов -->
<div class="course-list">
    <h3>Проходящие курсы</h3>
    {% if profile.current_courses.exists %}
        {% for course in profile.current_courses.all %}
            <a href="{% url 'course_detail' course.id %}" class="course-card">
                <div class="mycard">
                    <img src="{% static 'main/img/course-placeholder.png' %}" alt="Курс" style="width: 50%; max-width: 200px;">
                    <div class="mycontainer">
                        <h3><b>{{ course.title }}</b></h3>
                        <h4>{{ course.author }}</h4> <!-- или курс может иметь связь с преподавателем -->
                    </div>
                </div>
            </a>
        {% endfor %}
    {% else %}
        <p>Нет текущих курсов</p>
    {% endif %}

    <h3>Избранные курсы</h3>
    {% if profile.favorite_courses.exists %}
        {% for course in profile.favorite_courses.all %}
            <a href="{% url 'course_detail' course.id %}" class="course-card">
                <div class="mycard">
                    <img src="{% static 'main/img/course-placeholder.png' %}" alt="Курс" style="width: 50%; max-width: 200px;">
                    <div class="mycontainer">
                        <h3><b>{{ course.title }}</b></h3>
                        <h4>{{ course.author }}</h4>
                    </div>
                </div>
            </a>
        {% endfor %}
    {% else %}
        <p>Нет избранных курсов</p>
    {% endif %}

    <h3>Завершенные курсы</h3>
    {% if profile.completed_courses.exists %}
        {% for course in profile.completed_courses.all %}
            <a href="{% url 'course_detail' course.id %}" class="course-card">
                <div class="mycard">
                    <img src="{% static 'main/img/course-placeholder.png' %}" alt="Курс" style="width: 50%; max-width: 200px;">
                    <div class="mycontainer">
                        <h3><b>{{ course.title }}</b></h3>
                        <h4>{{ course.author }}</h4>
                    </div>
                </div>
            </a>
        {% endfor %}
    {% else %}
        <p>Нет завершенных курсов</p>
    {% endif %}
</div>

{% endblock %}
